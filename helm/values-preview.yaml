# Values for preview environments (PR deployments)
# These values override the default values.yaml for PR environments

environment: preview

# Ingress with AWS ALB
ingress:
  enabled: true
  className: alb
  annotations:
    alb.ingress.kubernetes.io/scheme: internet-facing
    alb.ingress.kubernetes.io/target-type: ip
    alb.ingress.kubernetes.io/healthcheck-path: /
    alb.ingress.kubernetes.io/listen-ports: '[{"HTTP": 80}]'
  hosts:
    - host: ""  # Empty = use ALB DNS directly
      paths:
        - path: /
          pathType: Prefix
  tls: []

# Reduced resources for preview environments
resources:
  limits:
    cpu: 250m
    memory: 256Mi
  requests:
    cpu: 50m
    memory: 64Mi

mongodb:
  resources:
    limits:
      cpu: 250m
      memory: 256Mi
    requests:
      cpu: 50m
      memory: 128Mi

# PR-specific labels
commonLabels:
  environment: preview
  managed-by: github-actions

# PR-specific annotations
commonAnnotations:
  deployed-by: github-actions
